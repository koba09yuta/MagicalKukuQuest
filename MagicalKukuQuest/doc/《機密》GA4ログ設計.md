<div style="text-align:right">
  <strong style="color:red;">CONFIDENTIAL ベネッセコーポレーション</strong>
  <hr style="background-color:#3f50b5;">
</div>

<p><b><font size="7">サンプルアプリ　GA4ログ設計</font></b></p>

- [1. アプリ名](#1-アプリ名)
- [2. 出力項目一覧](#2-出力項目一覧)
  - [2.1. GA4が自動で送信する項目](#21-ga4が自動で送信する項目)
  - [2.2. アプリで送信する項目](#22-アプリで送信する項目)
- [3. 出力項目詳細](#3-出力項目詳細)
  - [3.1. ログイン回数](#31-ログイン回数)
  - [3.2. アプリ名](#32-アプリ名)
  - [3.3. 商品ライン](#33-商品ライン)
  - [3.4. スクリーン名](#34-スクリーン名)
    - [3.4.1. スクリーン名の値](#341-スクリーン名の値)
  - [3.5. ボタン名](#35-ボタン名)
    - [3.5.1. ボタン名の値](#351-ボタン名の値)
  - [3.6. USB接続機器](#36-usb接続機器)
  - [3.7. 例外情報](#37-例外情報)
    - [3.7.1. 例外情報の値](#371-例外情報の値)
  - [3.8. 利用状況](#38-利用状況)
  - [3.9. 得点](#39-得点)
    - [3.9.1. 得点の値](#391-得点の値)
  - [3.10. 利用コンテンツ](#310-利用コンテンツ)
    - [3.10.1. 利用コンテンツの値](#3101-利用コンテンツの値)
  - [3.11. 目標達成](#311-目標達成)
    - [3.11.1. 目標達成の値](#3111-目標達成の値)
  - [3.12. 正誤結果](#312-正誤結果)
    - [3.12.1. 正誤結果の値](#3121-正誤結果の値)
  - [3.13. 選択結果](#313-選択結果)
    - [3.13.1. 選択結果の値](#3131-選択結果の値)
  - [3.14. 学習・解答時間](#314-学習解答時間)
    - [3.14.1. 学習・解答時間の値](#3141-学習解答時間の値)
  - [3.15. カスタムログ](#315-カスタムログ)
    - [3.15.1. カスタムログの値](#3151-カスタムログの値)


# 1. アプリ名

- サンプルアプリ

# 2. 出力項目一覧

## 2.1. GA4が自動で送信する項目

| ログ項目             | 概要                                               |
| :------------------- | :------------------------------------------------- |
| アプリ起動日時       | ユーザー数とアプリの起動日時を確認可能。           |
| 端末                 | 会員の利用している端末名を確認可能。               |
| OS名・バージョン     | 会員の利用しているOSおよびOSバージョンを確認可能。 |
| アプリ名・バージョン | アプリ名およびアプリバージョンを確認可能。         |

## 2.2. アプリで送信する項目

| ログ項目       | 概要                                                                                                                                                                  | サンプリング対象 | 出力有 |
| :------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------- | :----: |
| ログイン回数   | 累計のログイン回数（＝１人の会員が何回ログインしたか）を確認可                                                                                                        | -                |   ○    |
| アプリ名       | アプリ名およびアプリバージョンを確認可                                                                                                                                | -                |   ○    |
| 商品ライン     | アプリを利用した会員のゼミ契約の商品ラインを確認可能。                                                                                                                | -                |   ○    |
| スクリーン名   | 表示したスクリーン名およびスクリーンの遷移を確認可能。                                                                                                                | ○                |   ○    |
| ボタン名       | 選択したボタンおよび選択回数を確認可能。                                                                                                                              | ○                |   -    |
| USB接続機器    | 使用しているUSB接続機器の名称を確認可能。                                                                                                                             | ○                |   ○    |
| 例外情報       | アプリ内で発生したエラー情報を確認可能。                                                                                                                              | -                |   ○    |
| 利用状況       | アプリの利用状況（○○機能まで達した、課題を全クリア等）を低・中・高の３段階で確認可能。<br><strong style="color:red;">※低・中・高で各１回ずつしか送信されない</strong> | -                |   ○    |
| 得点           | 課題の得点を確認可能。                                                                                                                                                | ○                |   -    |
| 利用コンテンツ | コンテンツ（英単語、音声、等）の利用回数を確認可能。                                                                                                                  | ○                |   -    |
| 目標達成       | アプリの目標（例：おはなしを最後まで読んだ）の達成回数を確認可能。<br><strong style="color:red;">※目標名と目標明細で一意になるログは１回しか送信されない</strong>     | ○                |   ○    |
| 正誤結果       | ２択課題（有 or 無、等）の解答結果を確認可能。                                                                                                                        | ○                |   -    |
| 選択結果       | 選択課題（1～5の中から選択、等）の解答結果を確認可能。                                                                                                                | ○                |   -    |
| 学習・解答時間 | 課題の学習や解答の所要時間（開始～終了or中止の時間）を確認可能。                                                                                                      | ○                |   ○    |
| カスタムログ   | アプリ独自で規定したフォーマットのログ。                                                                                                                              | ○                |   ○    |

# 3. 出力項目詳細

<strong style="color:red;">イベント名、キーの変更はできません。</strong>

## 3.1. ログイン回数

| イベント名   | キー         | 値               | 送信タイミング |
| :----------- | :----------- | :--------------- | :------------- |
| ログイン状況 | ログイン回数 | (回数)＋"回以上" | アプリ起動時   |

## 3.2. アプリ名

| ディメンション名 | 値                                                   | 送信タイミング | 備考                                                 |
| :--------------- | :--------------------------------------------------- | :------------- | :--------------------------------------------------- |
| アプリ名         | UnityのPlayer Settingsの「Product Name」に設定した値 | アプリ起動時   | 「イベントパラメータ」でなく、「ユーザープロパティ」 |

## 3.3. 商品ライン

| ディメンション名 | 値                                    | 送信タイミング | 備考                                                 |
| :--------------- | :------------------------------------ | :------------- | :--------------------------------------------------- |
| 商品ライン       | 端末に保存されているライン（数字4桁） | アプリ起動時   | 「イベントパラメータ」でなく、「ユーザープロパティ」 |

## 3.4. スクリーン名

| イベント名  | キー | 備考                              |
| :---------- | :--- | :-------------------------------- |
| screen_view | -    | スクリーン滞在時間はGA4で自動計算 |

### 3.4.1. スクリーン名の値


| Unityシーン名            | 画面ID | 画面名           | ログ送信有無 | 値           | 送信タイミング                 |
| :----------------------- | :----- | :--------------- | :----------- | :----------- | :----------------------------- |
| なし（スプラッシュ画面） | 1000   | アプリ起動       | 無           | -            | -                              |
| Top                      | 2000   | TOP              | 有           | TOP          | ○○○ボタンタップ時              |
| Top                      | 2010   | おうちの方へ     | 有           | おうちの方へ | おうちの方へポップアップ表示時 |
| Album                    | 3000   | アルバム         | 有           | アルバム     | ○○○ボタンタップ時              |
| Album                    | 4000   | ミッション       | 有           | ミッション   | ○○○ボタンタップ時              |
| Album                    | 9300   | ミッションクリア | 無           | -            | -                              |

## 3.5. ボタン名

| イベント名 | キー       |
| :--------- | :--------- |
| 操作状況   | ボタン選択 |

### 3.5.1. ボタン名の値

| Unityシーン名 | 画面ID | 画面名 | 値          | 送信タイミング         |
| :------------ | :----- | :----- | :---------- | :--------------------- |
| Top           | 2000   | TOP    | TOPスタート | スタートボタンタップ時 |

## 3.6. USB接続機器

| イベント名 | キー       | 値           | 送信タイミング        |
| :--------- | :--------- | :----------- | :-------------------- |
| 利用者環境 | カメラ     | 教具名を記載 | TOPのスタートタップ時 |
| 利用者環境 | マイク     | 教具名を記載 | ●●●時                 |
| 利用者環境 | キーボード | 教具名を記載 | ●●●時                 |
| 利用者環境 | その他     | 教具名を記載 | ●●●時                 |

## 3.7. 例外情報

| イベント名 | キー                     |
| :--------- | :----------------------- |
| 操作状況   | エラーコード, エラー詳細 |

### 3.7.1. 例外情報の値

※アプリ個別のエラーは"E1001"から採番

| 「キー：エラーコード」の値 | 「キー：エラー詳細」の値               | 送信タイミング                                             |
| :------------------------- | :------------------------------------- | :--------------------------------------------------------- |
| E0001                      | スコープカメラが抜けています。         | スコープカメラの取り外しを検知した場合                     |
| E0002                      | SDカードコピーでエラーが発生しました。 | SDカードへのファイルコピーでエラーが発生した場合に記録する |
| E0003                      | マイクが抜けています。                 | SDカードへのファイルコピーでエラーが発生した場合に記録する |
| E1001                      | サンプルアプリ個別エラー               | タイミングを記述                                           |

## 3.8. 利用状況

| イベント名 | キー   | 値                          | 送信タイミング                                  |
| :--------- | :----- | :-------------------------- | :---------------------------------------------- |
| 利用状況   | 低利用 | 1枚の定点カメラ画像を作成   | 撮影画面で1枚目の定点カメラ画像を完成させた     |
| 利用状況   | 中利用 | 定点カメラ画像を4枚以上作成 | 撮影画面で通算4枚目の定点カメラ画像を完成させた |
| 利用状況   | 高利用 | 定点カメラ画像を8枚以上作成 | 撮影画面で通算8枚目の定点カメラ画像を完成させた |

## 3.9. 得点

| イベント名 | キー         |
| :--------- | :----------- |
| 得点       | 設問名, 得点 |

### 3.9.1. 得点の値

| 「キー：設問名」の値 | 「キー：得点」の値     | 送信タイミング |
| :------------------- | :--------------------- | :------------- |
| ステージ1            | 結果画面に表示した得点 | 結果画面表示時 |

## 3.10. 利用コンテンツ

| イベント名     | キー                         |
| :------------- | :--------------------------- |
| 利用コンテンツ | コンテンツ名, コンテンツ明細 |

### 3.10.1. 利用コンテンツの値

| 「キー：コンテンツ名」の値 | 「キー：コンテンツ明細」の値 | 送信タイミング            |
| :------------------------- | :--------------------------- | :------------------------ |
| ステージ1                  | ステージ1-1                  | ステージ1-1開始画面表示時 |

## 3.11. 目標達成

| イベント名 | キー                             |
| :--------- | :------------------------------- |
| 目標名     | 目標名, 目標詳細, 目標達成時の値 |

### 3.11.1. 目標達成の値

| 「キー：目標名」の値           | 「キー：目標詳細」の値          | 「キー：目標達成時の値」の値 | 送信タイミング                                |
| :----------------------------- | :------------------------------ | :--------------------------- | :-------------------------------------------- |
| ミッションクリア_USBカメラ利用 | USBカメラミッションをクリアした | -                            | USBカメラ使用での初回写真撮影                 |
| 閲覧_ネコの目の秘密            | ネコの目の秘密を見た            | -                            | ネコの目の秘密への初回遷移時                  |
| 閲覧_魚の目の秘密              | 魚の目の秘密を見た              | -                            | 魚の目の秘密への初回遷移時                    |
| クリア時所要時間               | (8/9/10)月号_(レベル)           | (0-999)　　　　　　　　      | ステージクリア時　　　　　　　　　　　　　　　　 |

## 3.12. 正誤結果

| イベント名 | キー         |
| :--------- | :----------- |
| 解答正誤   | 設問名, 正誤 |

### 3.12.1. 正誤結果の値

| 「キー：設問名」の値 | 「キー：正誤」の値                | 送信タイミング             |
| :------------------- | :-------------------------------- | :------------------------- |
| ステージ1問題1       | 「正解/不正解」のいずれかから設定 | ステージ1問題1の解答表示時 |

## 3.13. 選択結果

| イベント名 | キー               |
| :--------- | :----------------- |
| 解答選択   | 設問名, 選択肢の値 |

### 3.13.1. 選択結果の値

| 「キー：設問名」の値 | 「キー：選択肢の値」の値 | 送信タイミング             |
| :------------------- | :----------------------- | :------------------------- |
| ステージ1問題1       | A                        | ステージ1問題1の解答表示時 |

## 3.14. 学習・解答時間

| イベント名     | キー   |
| :------------- | :----- |
| 学習・解答時間 | 設問名 |

### 3.14.1. 学習・解答時間の値

| 「キー：設問名」の値 | 送信タイミング                                                                                                                                                                         |
| :------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 4月号コンテンツ      | 学習・解答開始はステージ選択画面での各月号コンテンツボタン押下時。<br>学習・解答終了は保存終了、またはキャンセル時。（但し下記の中断時は除く）<br>学習・解答中止は中断画面での遷移時。 |
| 5月号コンテンツ      | 同上                                                                                                                                                                                   |
| 6月号コンテンツ      | 同上                                                                                                                                                                                   |
| 7月号コンテンツ      | 同上                                                                                                                                                                                   |
| 9月号コンテンツ      | 同上                                                                                                                                                                                   |
| 10月号コンテンツ     | 同上                                                                                                                                                                                   |
| 11月号コンテンツ     | 同上                                                                                                                                                                                   |
| 12月号コンテンツ     | 同上                                                                                                                                                                                   |
| 1月号コンテンツ      | 同上                                                                                                                                                                                   |
| 2月号コンテンツ      | 同上                                                                                                                                                                                   |

## 3.15. カスタムログ

| イベント名   | キー              |
| :----------- | :---------------- |
| カスタムログ | カスタム要素1～10 |

### 3.15.1. カスタムログの値

| キー           | 値                                                                                               | 出力タイミング            | 備考                                     |
| :------------- | :----------------------------------------------------------------------------------------------- | :------------------------ | :--------------------------------------- |
| カスタム要素1  | 選択された県名称<br>県名称はEnumのPrefectureの論理名（日本語）<br>※アプリ設計の「3.3. Enum」参照 | 総合結果（ID:8000）表示時 | 同じ値のログは複数回送られないようにする |
| カスタム要素2  | ○○○                                                                                              | ○○○ボタンタップ時         |
| カスタム要素3  | ○○○                                                                                              | ○○○ボタンタップ時         |
| カスタム要素4  | ○○○                                                                                              | ○○○ボタンタップ時         |
| カスタム要素5  | ○○○                                                                                              | ○○○ボタンタップ時         |
| カスタム要素6  | ○○○                                                                                              | ○○○ボタンタップ時         |
| カスタム要素7  | ○○○                                                                                              | ○○○ボタンタップ時         |
| カスタム要素8  | ○○○                                                                                              | ○○○ボタンタップ時         |
| カスタム要素9  | ○○○                                                                                              | ○○○ボタンタップ時         |
| カスタム要素10 | ○○○                                                                                              | ○○○ボタンタップ時         |

<div style="text-align:right">
  <hr style="background-color:#3f50b5;">
</div>
